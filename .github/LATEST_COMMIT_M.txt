socket: Implement missing errno values and improve network error handling
